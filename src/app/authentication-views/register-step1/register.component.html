<!-- Wrapper for modal layout -->
<div class="d-flex align-items-center justify-content-center position-relative">

  <!-- Signup Modal Card -->
  <div class="card d-flex flex-row"
       style="--card-width: 1000px; width: var(--card-width); max-width: 100%; height: auto; position: relative; z-index: 2; background-color: rgb(244, 248, 247); border: none;">

    <!-- Left Image Section -->
    <div class="w-50 d-flex flex-column align-items-center justify-content-center text-center p-4"
         style="background-color: #ecf5f3;">
      <img src="/assets/images/image1.png" alt="Signup Visual" style="width: 230px; height: 300px;">

      <!-- Terms Note -->
      <p class="text-muted small mt-4 mb-3" style="max-width: 80%;">
        By continuing, you're agreeing to our
        <a href="#">Terms of Service</a>, <a href="#">Refund Policy</a>, and
        <a href="#">Privacy Policy</a>.
      </p>
    </div>

    <!-- Right Form Section -->
    <div class="w-50 p-5 d-flex align-items-center justify-content-center">
      <div style="width: 100%;">
        <h4 class="text-center mb-4">Create an Account</h4>

        <form>
          <!-- Name Field -->
          <div class="form-group mb-3">
            <label for="firstName" class="fw-bold">First Name</label>
            <input type="text" class="form-control" id="firstName" placeholder="First Name"
                   [(ngModel)]="registerModel.first_name" name="firstName" />
          </div>

          <!-- Email -->
          <div class="form-group mb-3">
            <label for="email" class="fw-bold">Email</label>
            <input type="email" class="form-control" id="email" placeholder="john@example.com"
                   [(ngModel)]="registerModel.email" name="email" />
          </div>

          <!-- Password -->
          <div class="form-group mb-3">
            <label for="password" class="fw-bold">Password</label>
            <div class="input-group">
              <input [type]="passwordVisible ? 'text' : 'password'" class="form-control" id="password"
                     placeholder="At least 8 characters" [(ngModel)]="registerModel.password" name="password" />
              <span class="input-group-text"
                    style="border-color: #0fa497; border-radius: 5px; cursor: pointer;"
                    (click)="togglePasswordVisibility()">
                <i class="fa" [ngClass]="passwordVisible ? 'fa-eye' : 'fa-eye-slash'"></i>
              </span>
            </div>
          </div>

          <!-- Confirm Password -->
          <div class="form-group mb-3">
            <label for="confirmPassword" class="fw-bold">Confirm Password</label>
            <div class="input-group">
              <input [type]="confirmPasswordVisible ? 'text' : 'password'" class="form-control"
                     id="confirmPassword" placeholder="At least 8 characters"
                     [(ngModel)]="registerModel.cnfPassword" name="confirmPassword" />
              <span class="input-group-text"
                    style="border-color: #0fa497; border-radius: 5px; cursor: pointer;"
                    (click)="toggleConfirmPasswordVisibility()">
                <i class="fa" [ngClass]="confirmPasswordVisible ? 'fa-eye' : 'fa-eye-slash'"></i>
              </span>
            </div>
          </div>

          <!-- Mobile Number -->
          <div class="form-group mb-3">
            <label for="mobileNumber" class="fw-bold">Mobile Number (optional)</label>
            <input type="tel" class="form-control" id="mobileNumber" placeholder="+1xxxxxxxxxx"
                   [(ngModel)]="registerModel.mobileNumber" name="mobileNumber" />
          </div>

          <!-- Submit Button -->
          <div class="text-center mb-3">
            <button class="btn btn-primary btn-block w-100"
                    style="background-color: #009b77; border: none"
                    type="submit"
                    (click)="submitReg(dealerReg)">
              Create Account
            </button>
          </div>

          <!-- Already have account -->
          <p class="text-center">
            Already have an account?
            <a href="#" style="color: #009b77; font-weight: 500">Sign In</a>
          </p>

          <ngx-spinner class="loader_spinner"></ngx-spinner>
        </form>
      </div>
    </div>

  </div>
</div>

  <!-- Modal pop-up end here -->

  <!-- Modal pop-up start here -->
  <div id="otpModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal"></button>
          <h4 class="modal-title text-center">Enter OTP</h4>
        </div>
        <div class="modal-body text-center">
          <form #otpForm="ngForm">
            <div class="form-group pad_t_10per pad_b_10per">
              <label class="control-label col-md-3" for="otp">Enter OTP</label>
              <div class="col-md-9">
                <input
                  type="text"
                  required
                  class="form-control"
                  autofocus
                  minlength="4"
                  id="otp"
                  [(ngModel)]="otpModal.otp"
                  placeholder="Enter OTP"
                  name="otp"
                  #otp="ngModel"
                />
                <div
                  [hidden]="otp.valid || otp.untouched"
                  class="alert alert-danger"
                >
                  otp is required
                </div>
                <div class="toppad float-right">
                  <span
                    *ngIf="!showResendbtn && counter != 0"
                    class="theem_color"
                    >Your OTP will expire on {{ otpTimer }}
                    seconds
                  </span>
                  <a
                    tabindex="5"
                    *ngIf="showResendbtn"
                    class="forgot-password"
                    (click)="resendPassword()"
                    >Resend OTP</a
                  >
                </div>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger fl" data-dismiss="modal">
            Cancel
          </button>
          <button
            type="submit"
            [disabled]="!otpForm.valid"
            (click)="submitOTP(otpModal.otp)"
            class="btn btn-success fr"
          >
            Submit
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- <app-otp-modal></app-otp-modal> -->

  <!-- modal pop up start here -->
  <div class="modal fade" id="otpStatusokModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body" style="padding: 0">
          <div class="row">
            <div class="col-md-12">
              <h4 class="alert_heading">
                <button type="button" class="close" data-dismiss="modal">
                  &times;
                </button>
              </h4>
              <div class="right_mark">
                <i class="fa fa-check" aria-hidden="true"></i>
              </div>
              <div
                class="pad_15 text-center content_msg"
                style="padding: 10% 0"
              >
                <span
                  >You have Successfully Registered. <br />Our Team Will Contact
                  You Soon.</span
                >
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger fl" data-dismiss="modal">
            Close
          </button>
          <button
            type="button"
            class="btn btn-success fr"
            data-dismiss="modal"
            (click)="gotoPreviousreg()"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal popup end here -->

  <div class="modal fade" id="internalusersuccessModal" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-body" style="padding: 0">
          <div class="row">
            <div class="col-md-12">
              <h4 class="alert_heading">
                <button type="button" class="close" data-dismiss="modal">
                  &times;
                </button>
              </h4>
              <div class="right_mark">
                <i class="fa fa-check" aria-hidden="true"></i>
              </div>
              <div
                class="pad_15 text-center content_msg"
                style="padding: 10% 0"
              >
                <span>User Created Successfully.</span>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger fl" data-dismiss="modal">
            Close
          </button>
          <button
            type="button"
            class="btn btn-success fr"
            data-dismiss="modal"
            (click)="gotoPreviousreg()"
          >
            OK
          </button>
        </div>
      </div>
    </div>
  </div>
